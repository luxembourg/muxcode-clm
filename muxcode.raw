<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN"
	"http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">

<!--  The smallest CLM that will color keywords.
      Copyright (c) 2012 Bare Bones Software, Inc. -->
		
<dict>
	<!-- You must identify the plist as a CLM: -->
	<key>BBEditDocumentType</key>
	<string>CodelessLanguageModule</string>
	
	<!-- You must identify your language: -->
	<key>BBLMLanguageDisplayName</key>  <string>MUXCode</string>
	<key>BBLMLanguageCode</key>         <string>MUX</string>
	
	<!-- Not required, but there’s not much point to
	     a language module if it doesn’t color syntax: -->
	<key>BBLMColorsSyntax</key>         <true/>
	
	<key>BBLMSuffixMap</key>
	<array>
		<dict>
			 <key>BBLMLanguageSuffix</key> <string>.mu</string>
		</dict>
	</array>
		
	<key>BBLMSupportsTextCompletion</key>	<false/>
	<key>BBLMReferenceSearchURLTemplate</key> <string>http://github.com/luxembourg/muxcode-clm/wiki/__SYMBOLNAME__</string>
	<key>BBLMScansFunctions</key> <true/>
	<key>BBLMColorsSyntax</key> <true/>
	<key>BBLMKeywordList</key>
	<array>
		@KEYWORDS@
	</array>
	<key>BBLMPredefinedNameList</key>
	<array>
		@FUNCTIONS@
	</array>
		
	<!-- You must specify the character set for
             keywords and identifiers. Substitute your own:  -->
	<key>Language Features</key>
	<dict>
		<key>Identifier and Keyword Character Class</key>
		<string>A-Za-z0-9_\?!\./#@\$\^&amp;\-=\+</string>

		<key>Comment Pattern</key>
		<string><![CDATA[
		(?x:
			(^\#.*$)					|	(?# Mushcode Unformatter comment)
			(\[?@@\(.*?\)\]?)			|	(?# @@ function comment)
			(@@.*;)						|	(?# @@ command comment, until semicolon)
			(@@(?:(?!;).)*$)			 	(?# @@ command comment ends at line or semicolon)
		)]]></string>
		
		<key>Function Pattern</key>
		<string><![CDATA[
		(?x:
			(?P<function>
				-?&(?P<function_name>.+?)\s+(.+)=(?s:.+?)
				^\s*(-|;)\s*$
			)
		)]]></string>
		
		<key>String Pattern</key>
		<string><![CDATA[
		(?x:
			(%[0-9\#@\!\|l])						|
			(%q[A-Za-z0-9])							|
			(%v[A-Za-z])							|
			(%i[0-9])								|
			(%=<[A-Za-z0-9\._/\^~`]+>)				|
			(%_[A-Za-z0-9])						 	|
			(\#-[1-9] ?[\w\s]*)					 	|
			(\#[0-9]+)							 	|
			(?<=u\()((.+/)?[A-Za-z0-9\._/\^~`]+) 	|
			(?<=(?:map|mix)\()((.+/)?[A-Za-z0-9\._/\^~`]+) |
			(?<=(?:step|fold)\()((.+/)?[A-Za-z0-9\._/\^~`]+) |
			(?<=(?:filter|ulocal)\()((.+/)?[A-Za-z0-9\._/\^~`]+) |
			(?<=udefault\()((.+/)?[A-Za-z0-9\._/\^~`]+)
		)]]></string>
	</dict> 
</dict>
</plist>